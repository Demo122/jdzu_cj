<!doctype html>
<html>
<head>
    <meta charset="utf-8">

    <!--    <meta http-equiv="Expires" content="0"/>-->
    <!--    <meta http-equiv="Pragma" content="no-cache"/>-->
    <!--    <meta http-equiv="Cache-Control" content="no-cache"/>-->
    <!--    <meta http-equiv="Cache" content="no-cache"/>-->
    <title>景德镇学院成绩单下载</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css"
          integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.slim.min.js"
            integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n"
            crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
            integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
            crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/js/bootstrap.min.js"
            integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
            crossorigin="anonymous"></script>

    <link rel="stylesheet" href="{{url_for('static',filename ='index.css')}}">
    <!--    <script src="{{url_for('static',filename ='jquery.min.js')}}"></script>-->

</head>
<body>
<h2 style="text-align: center;padding: 15px">重要:本站为本人开发学习使用,并非景德镇学院官方提供！！</h2>
<div class="box">
    <h2>景德镇学院成绩单下载</h2>
    <form method="post">
        <div class="inputBox">
            <input type="text" name="username" required="">
            <label>学号</label>
        </div>
        <div class="inputBox">
            <input type="password" name="password" required="">
            <label>密码</label>
        </div>
        <div class="inputBox">
            <input id="code" type="text" name="verifycode" required="" value="">
            <label>图形验证码</label>
            <!--            由于缓存的问题，图片覆盖了，但是前端页面刷新还是以前的旧图。
            需要_t参数，使每次请求的数据不一样，才能刷新图片-->
            <img id="verifycode_img" src="{{url_for('static',filename ='verifycode.jpg',t=val1)}}"/><br>
        </div>
        <div>
            <label style="color: white" >选择文件格式</label>
            <select class="form-control"  name="file_format">
                <option>excel</option>
                <option>pdf</option>
            </select>
        </div>
        <br>
        <!--        <input type="submit" value="下载">-->
        <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
        <button type="submit" class="btn btn-primary">下载</button>
        <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
        <button type="button" class="btn btn-danger" data-toggle="modal" data-target="#readMe">
            须知
        </button>
        <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
        <button type="button" class="btn btn-success" data-toggle="modal" data-target="#devoteMe">
            捐助
        </button>
    </form>
</div>
<!-- readMe -->
<div class="modal fade 	" id="readMe" tabindex="-1" role="dialog"
     aria-labelledby="exampleModalCenterTitle"
     aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered " role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalCenterTitle">须知</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <h5>本站仅供景德镇学院学生下载成绩单使用，本站保护隐私，每次下载完毕便清除登录信息，同学们可以放心使用！</h5><br><br>
                <h5>下载的成绩单为excel格式。</h5>
                <p>ps:写了一个pdf格式的接口，但是由于太丑还是算了,同学们可以通过excel把一些不必要的列删除再转换成pdf文件更好看些</p
                <br><br>
                <h3>重要更新 2020-4-5 凌晨</h3>
                <p>想想还是把pdf的格式加上，再完善了pdf成绩单的样式</p>
                <p>ps:好久没弄了，在centos上装转转pdf的环境真的累，太多坑了，不过好在弄好了</p>
            </div>
        </div>
    </div>
</div>

<!-- devoteMe -->
<div class="modal fade bd-example-modal-sm	" id="devoteMe" tabindex="-1" role="dialog"
     aria-labelledby="exampleModalCenterTitle"
     aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-sm" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalCenterTitle">感谢您的捐助</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <img src="../static/weixin.png" class="img-thumbnail">
            </div>

        </div>
    </div>
</div>

</body>

</html>
